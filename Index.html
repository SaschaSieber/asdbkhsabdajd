<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>aMSO Database Portal </title>
    <link rel="stylesheet" href="style.css">
    <link
    rel="icon"
    href=
"Logo.png"
    type="image/x-icon"
/>
</head>
<body>


    <div id="graph">
        <div id="legend-container">
            <h4>Importance Legend</h4>
            <div id="legend"></div>
        </div>

      
      
      
       
        <div id="sidebar" class="sidebar">
          
            
          
            <div class="sidebar-header">
                <span> Column </span><span> Type </span>
            </div>
        </div>
        <div id="sidebarImageContainer" style="display: none;"></div>
    </div>
    <div id="SidebarImagePG" style="display: none;"></div>
    </div>
           
    </div>


               
         
        </div>

        <!-- Search bar for nodes -->
       <div id="search-bar">
        <input type="text" id="search-input" placeholder="Suche nach Abf/Tabelle ...">
        <button id="search-button">Suche starten</button>
        <button id="redirect-button">Web Tool</button>
        <button id="update-json-button">Tools-Liste aktualisieren</button>
        
      
        </div>

        <div id="image-container">
            
           

        <img src="PdmHSf01_modified.svg" class="filter-white"
        width="250">
     
    </div>

        

       
        <div id="textForData">
            <p>ğ–ºğ–¬ğ–®ğ–² ğ–£ğ–ºğ—ğ–º ğ–¯ğ—ˆğ—‹ğ—ğ–ºğ—…</p>
        </div>
    
    

        
      </div>
      <div id="top-right-entity" class="top-right-entity">
        <span>Top Right Entity</span>
    
    </div>





        <!-- SVG container for D3 visualization -->
        <div class="bg"></div>

        <div class="star-field">
        <div class="layer"></div>
        <div class="layer"></div>
        <div class="layer"></div>
    </div>
 
 

    <!-- JavaScript libraries -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <!-- Custom JavaScript -->
<script>
    document.getElementById('update-json-button').addEventListener('click', function() {
            // Make a request to the Flask endpoint to update JSON files
            fetch('/generate_tools_json')
                .then(response => response.json())
                .then(data => {
                    // Display success or error message
                    const messageDiv = document.getElementById('message');
                    if (data.success) {
                        messageDiv.innerText = 'JSON Dateien wurden erfolgreich aktualisiert!';
                    } else {
                        messageDiv.innerText = 'Fehler: ' + data.message;
                    }
                })
                .catch(error => {
                    const messageDiv = document.getElementById('message');
                    messageDiv.innerText = 'Fehler bei der Anfrage: ' + error;
                });
        });
</script>
<script type="module" src="script.js"></script>
</body>
</html>
